{"ast":null,"code":"import _regeneratorRuntime from \"/Users/carlosmiret/Desktop/TallerAddalia/taller_vue_firebase/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/carlosmiret/Desktop/TallerAddalia/taller_vue_firebase/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport { getUserRol } from '@/services/users';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    user: null\n  },\n  getters: {\n    isUserSignedIn: function isUserSignedIn(state) {\n      return !!state.user;\n    },\n    isUserAdmin: function isUserAdmin(state) {\n      if (state.user) {\n        return state.user.rol == 'admin';\n      } else {\n        return false;\n      }\n    }\n  },\n  mutations: {\n    setUser: function setUser(state, user) {\n      state.user = user;\n    }\n  },\n  actions: {\n    configureUser: function configureUser(_ref, username) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var commit, rol;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref.commit;\n              _context.next = 3;\n              return getUserRol();\n            case 3:\n              rol = _context.sent;\n              commit('setUser', {\n                username: username,\n                rol: rol\n              });\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["Vue","Vuex","getUserRol","use","Store","state","user","getters","isUserSignedIn","isUserAdmin","rol","mutations","setUser","actions","configureUser","_ref","username","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","wrap","_callee$","_context","prev","next","sent","stop","modules"],"sources":["/Users/carlosmiret/Desktop/TallerAddalia/taller_vue_firebase/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport {\n  getUserRol\n} from '@/services/users'\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    user: null,\n  },\n  getters: {\n    isUserSignedIn(state) {\n      return !!state.user\n    },\n    isUserAdmin(state) {\n      if (state.user) {\n        return state.user.rol == 'admin'\n      }else{\n        return false\n      }\n    }\n  },\n  mutations: {\n    setUser(state, user) {\n      state.user = user;\n    }\n  },\n  actions: {\n    async configureUser({ commit },username) {\n      const rol = await getUserRol()\n      commit('setUser', {username: username, rol: rol});\n    },\n  },\n  modules: {\n  }\n})\n"],"mappings":";;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AACvB,SACEC,UAAU,QACL,kBAAkB;AACzBF,GAAG,CAACG,GAAG,CAACF,IAAI,CAAC;AAEb,eAAe,IAAIA,IAAI,CAACG,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,IAAI,EAAE;EACR,CAAC;EACDC,OAAO,EAAE;IACPC,cAAc,WAAAA,eAACH,KAAK,EAAE;MACpB,OAAO,CAAC,CAACA,KAAK,CAACC,IAAI;IACrB,CAAC;IACDG,WAAW,WAAAA,YAACJ,KAAK,EAAE;MACjB,IAAIA,KAAK,CAACC,IAAI,EAAE;QACd,OAAOD,KAAK,CAACC,IAAI,CAACI,GAAG,IAAI,OAAO;MAClC,CAAC,MAAI;QACH,OAAO,KAAK;MACd;IACF;EACF,CAAC;EACDC,SAAS,EAAE;IACTC,OAAO,WAAAA,QAACP,KAAK,EAAEC,IAAI,EAAE;MACnBD,KAAK,CAACC,IAAI,GAAGA,IAAI;IACnB;EACF,CAAC;EACDO,OAAO,EAAE;IACDC,aAAa,WAAAA,cAAAC,IAAA,EAAYC,QAAQ,EAAE;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,MAAA,EAAAX,GAAA;QAAA,OAAAQ,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAnBL,MAAM,GAAAN,IAAA,CAANM,MAAM;cAAAG,QAAA,CAAAE,IAAA;cAAA,OACRxB,UAAU,CAAC,CAAC;YAAA;cAAxBQ,GAAG,GAAAc,QAAA,CAAAG,IAAA;cACTN,MAAM,CAAC,SAAS,EAAE;gBAACL,QAAQ,EAAEA,QAAQ;gBAAEN,GAAG,EAAEA;cAAG,CAAC,CAAC;YAAC;YAAA;cAAA,OAAAc,QAAA,CAAAI,IAAA;UAAA;QAAA,GAAAR,OAAA;MAAA;IACpD;EACF,CAAC;EACDS,OAAO,EAAE,CACT;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}