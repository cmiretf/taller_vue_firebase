{"ast":null,"code":"import _regeneratorRuntime from \"/Users/carlosmiret/Desktop/TallerAddalia/taller_vue_firebase/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"/Users/carlosmiret/Desktop/TallerAddalia/taller_vue_firebase/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/Users/carlosmiret/Desktop/TallerAddalia/taller_vue_firebase/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport { Firestore, VehiclesCollection /*VehiclesDoc*/ } from \"@/firebase-exports\";\n\n/**\r\n * Obtiene un número aleatorio para las motos.\r\n * @returns {number} Número aleatorio para las motos.\r\n */\nexport function getMotos() {\n  var numeroAleatorio = Math.floor(Math.random() * 100) + 1;\n  return numeroAleatorio;\n}\n\n/**\r\n * Obtiene un número aleatorio para los coches.\r\n * @returns {number} Número aleatorio para los coches.\r\n */\nexport function getCoches() {\n  var numeroAleatorio = Math.floor(Math.random() * 10) + 1;\n  return numeroAleatorio;\n}\n\n/**\r\n * Agrega un vehículo a la colección de vehículos.\r\n * @param {Object} data - Datos del vehículo a agregar.\r\n * @returns {Promise} Promesa que se resuelve cuando se agrega el vehículo.\r\n */\nexport function addVehicle(_x) {\n  return _addVehicle.apply(this, arguments);\n}\n\n/**\r\n * Agrega un coche a la colección de vehículos.\r\n * @param {Object} data - Datos del coche a agregar.\r\n * @returns {Promise} Promesa que se resuelve cuando se agrega el coche.\r\n */\nfunction _addVehicle() {\n  _addVehicle = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return Firestore.addDoc(VehiclesCollection(data.userId), _objectSpread({}, data));\n        case 2:\n          return _context.abrupt(\"return\", _context.sent);\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _addVehicle.apply(this, arguments);\n}\nexport function addCoche(_x2) {\n  return _addCoche.apply(this, arguments);\n}\n\n/**\r\n * Agrega una moto a la colección de vehículos.\r\n * @param {Object} data - Datos de la moto a agregar.\r\n * @returns {Promise} Promesa que se resuelve cuando se agrega la moto.\r\n */\nfunction _addCoche() {\n  _addCoche = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data) {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return Firestore.addDoc(VehiclesCollection(data.userId), _objectSpread({}, data));\n        case 2:\n          return _context2.abrupt(\"return\", _context2.sent);\n        case 3:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _addCoche.apply(this, arguments);\n}\nexport function addMoto(_x3) {\n  return _addMoto.apply(this, arguments);\n}\nfunction _addMoto() {\n  _addMoto = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(data) {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return Firestore.addDoc(VehiclesCollection(data.userId), _objectSpread({}, data));\n        case 2:\n          return _context3.abrupt(\"return\", _context3.sent);\n        case 3:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _addMoto.apply(this, arguments);\n}\nexport function signaturesSubscription(_x4, _x5) {\n  return _signaturesSubscription.apply(this, arguments);\n}\nfunction _signaturesSubscription() {\n  _signaturesSubscription = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(userId, user) {\n    var days,\n      todaysDate,\n      from,\n      fromDate,\n      to,\n      toDate,\n      unsub,\n      _args6 = arguments;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          days = _args6.length > 2 && _args6[2] !== undefined ? _args6[2] : 90;\n          todaysDate = new Date();\n          from = new Date().setDate(todaysDate.getDate() - days);\n          fromDate = new Date(from);\n          to = new Date().setDate(todaysDate.getDate() + 1); // Add + 1 day to get new docs after initializing subscription\n          toDate = new Date(to);\n          unsub = Firestore.onSnapshot(days != 0 ?\n          // Taking the last X days\n          Firestore.query(SignaturesCollection(userId), Firestore.orderBy(\"createdAt\", \"desc\"), Firestore.startAt(toDate), Firestore.endAt(fromDate)) :\n          // Taking all\n          Firestore.query(SignaturesCollection(userId), Firestore.orderBy(\"createdAt\", \"desc\")), /*#__PURE__*/function () {\n            var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(querySnapshot) {\n              var signatures, cifs;\n              return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n                while (1) switch (_context5.prev = _context5.next) {\n                  case 0:\n                    _context5.next = 2;\n                    return Promise.all(querySnapshot.docs.map( /*#__PURE__*/function () {\n                      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(doc) {\n                        var document;\n                        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n                          while (1) switch (_context4.prev = _context4.next) {\n                            case 0:\n                              document = doc.data();\n                              if (!document.requesterRef) {\n                                _context4.next = 5;\n                                break;\n                              }\n                              _context4.next = 4;\n                              return GetDocFromReference(document.requesterRef);\n                            case 4:\n                              document.requester = _context4.sent;\n                            case 5:\n                              if (!document.cifRef) {\n                                _context4.next = 9;\n                                break;\n                              }\n                              _context4.next = 8;\n                              return GetDocFromReference(document.cifRef);\n                            case 8:\n                              document.cif = _context4.sent;\n                            case 9:\n                              if (document.dateDeferred) document.dateDeferred = document.dateDeferred.toDate();\n                              if (document.createdAt) document.createdAt = document.createdAt.toDate();\n                              if (document.dateLimit) document.dateLimit = document.dateLimit.toDate();\n                              if (document.alert) document.alert.date = document.alert.date.toDate();\n                              delete document.infoOTP;\n                              return _context4.abrupt(\"return\", _objectSpread({\n                                id: doc.id\n                              }, document));\n                            case 15:\n                            case \"end\":\n                              return _context4.stop();\n                          }\n                        }, _callee4);\n                      }));\n                      return function (_x7) {\n                        return _ref2.apply(this, arguments);\n                      };\n                    }()));\n                  case 2:\n                    signatures = _context5.sent;\n                    // Filtramos por cif, si es operador los Ids no coinciden\n                    if (userId !== user.id) {\n                      cifs = user.cifs.filter(function (cif) {\n                        return cif.firmasActivas;\n                      }).map(function (cif) {\n                        return cif.numeroDocIdentidad;\n                      });\n                      signatures = signatures.filter(function (signature) {\n                        var _signature$cif, _signature$cif2;\n                        return cifs.includes((_signature$cif = signature.cif) === null || _signature$cif === void 0 ? void 0 : _signature$cif.numeroDocIdentidad) && user.cifsPermissions[(_signature$cif2 = signature.cif) === null || _signature$cif2 === void 0 ? void 0 : _signature$cif2.numeroDocIdentidad].firmasActivas && (store.getters.isAdminUser || signature.requesterRef.id === user.id || signature.clientsToSign.some(function (client) {\n                          return client.id === user.id;\n                        }));\n                      });\n                    }\n\n                    // Guardamos en el store\n                    store.commit(\"setSignatures\", signatures);\n                    store.commit(\"setSignaturesUnsubscribe\", unsub);\n                  case 6:\n                  case \"end\":\n                    return _context5.stop();\n                }\n              }, _callee5);\n            }));\n            return function (_x6) {\n              return _ref.apply(this, arguments);\n            };\n          }());\n          return _context6.abrupt(\"return\", unsub);\n        case 8:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _signaturesSubscription.apply(this, arguments);\n}","map":{"version":3,"names":["Firestore","VehiclesCollection","getMotos","numeroAleatorio","Math","floor","random","getCoches","addVehicle","_x","_addVehicle","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","addDoc","userId","_objectSpread","abrupt","sent","stop","addCoche","_x2","_addCoche","_callee2","_callee2$","_context2","addMoto","_x3","_addMoto","_callee3","_callee3$","_context3","signaturesSubscription","_x4","_x5","_signaturesSubscription","_callee6","user","days","todaysDate","from","fromDate","to","toDate","unsub","_args6","_callee6$","_context6","length","undefined","Date","setDate","getDate","onSnapshot","query","SignaturesCollection","orderBy","startAt","endAt","_ref","_callee5","querySnapshot","signatures","cifs","_callee5$","_context5","Promise","all","docs","map","_ref2","_callee4","doc","document","_callee4$","_context4","requesterRef","GetDocFromReference","requester","cifRef","cif","dateDeferred","createdAt","dateLimit","alert","date","infoOTP","id","_x7","filter","firmasActivas","numeroDocIdentidad","signature","_signature$cif","_signature$cif2","includes","cifsPermissions","store","getters","isAdminUser","clientsToSign","some","client","commit","_x6"],"sources":["/Users/carlosmiret/Desktop/TallerAddalia/taller_vue_firebase/src/services/vehiculos.js"],"sourcesContent":["import {\r\n  Firestore,\r\n  VehiclesCollection /*VehiclesDoc*/,\r\n} from \"@/firebase-exports\";\r\n\r\n/**\r\n * Obtiene un número aleatorio para las motos.\r\n * @returns {number} Número aleatorio para las motos.\r\n */\r\nexport function getMotos() {\r\n  let numeroAleatorio = Math.floor(Math.random() * 100) + 1;\r\n  return numeroAleatorio;\r\n}\r\n\r\n/**\r\n * Obtiene un número aleatorio para los coches.\r\n * @returns {number} Número aleatorio para los coches.\r\n */\r\nexport function getCoches() {\r\n  let numeroAleatorio = Math.floor(Math.random() * 10) + 1;\r\n  return numeroAleatorio;\r\n}\r\n\r\n/**\r\n * Agrega un vehículo a la colección de vehículos.\r\n * @param {Object} data - Datos del vehículo a agregar.\r\n * @returns {Promise} Promesa que se resuelve cuando se agrega el vehículo.\r\n */\r\nexport async function addVehicle(data) {\r\n  return await Firestore.addDoc(VehiclesCollection(data.userId), {\r\n    ...data,\r\n  });\r\n}\r\n\r\n/**\r\n * Agrega un coche a la colección de vehículos.\r\n * @param {Object} data - Datos del coche a agregar.\r\n * @returns {Promise} Promesa que se resuelve cuando se agrega el coche.\r\n */\r\nexport async function addCoche(data) {\r\n  return await Firestore.addDoc(VehiclesCollection(data.userId), {\r\n    ...data,\r\n  });\r\n}\r\n\r\n/**\r\n * Agrega una moto a la colección de vehículos.\r\n * @param {Object} data - Datos de la moto a agregar.\r\n * @returns {Promise} Promesa que se resuelve cuando se agrega la moto.\r\n */\r\nexport async function addMoto(data) {\r\n  return await Firestore.addDoc(VehiclesCollection(data.userId), {\r\n    ...data,\r\n  });\r\n}\r\n\r\nexport async function signaturesSubscription(userId, user, days = 90) {\r\n  const todaysDate = new Date();\r\n\r\n  const from = new Date().setDate(todaysDate.getDate() - days);\r\n  const fromDate = new Date(from);\r\n\r\n  const to = new Date().setDate(todaysDate.getDate() + 1); // Add + 1 day to get new docs after initializing subscription\r\n  const toDate = new Date(to);\r\n\r\n  const unsub = Firestore.onSnapshot(\r\n    days != 0\r\n      ? // Taking the last X days\r\n        Firestore.query(\r\n          SignaturesCollection(userId),\r\n          Firestore.orderBy(\"createdAt\", \"desc\"),\r\n          Firestore.startAt(toDate),\r\n          Firestore.endAt(fromDate)\r\n        )\r\n      : // Taking all\r\n        Firestore.query(\r\n          SignaturesCollection(userId),\r\n          Firestore.orderBy(\"createdAt\", \"desc\")\r\n        ),\r\n    async (querySnapshot) => {\r\n      let signatures = await Promise.all(\r\n        querySnapshot.docs.map(async (doc) => {\r\n          const document = doc.data();\r\n          if (document.requesterRef)\r\n            document.requester = await GetDocFromReference(\r\n              document.requesterRef\r\n            );\r\n\r\n          if (document.cifRef)\r\n            document.cif = await GetDocFromReference(document.cifRef);\r\n\r\n          if (document.dateDeferred)\r\n            document.dateDeferred = document.dateDeferred.toDate();\r\n\r\n          if (document.createdAt)\r\n            document.createdAt = document.createdAt.toDate();\r\n\r\n          if (document.dateLimit)\r\n            document.dateLimit = document.dateLimit.toDate();\r\n\r\n          if (document.alert)\r\n            document.alert.date = document.alert.date.toDate();\r\n\r\n          delete document.infoOTP;\r\n\r\n          return { id: doc.id, ...document };\r\n        })\r\n      );\r\n\r\n      // Filtramos por cif, si es operador los Ids no coinciden\r\n      if (userId !== user.id) {\r\n        const cifs = user.cifs\r\n          .filter((cif) => cif.firmasActivas)\r\n          .map((cif) => cif.numeroDocIdentidad);\r\n        signatures = signatures.filter((signature) => {\r\n          return (\r\n            cifs.includes(signature.cif?.numeroDocIdentidad) &&\r\n            user.cifsPermissions[signature.cif?.numeroDocIdentidad]\r\n              .firmasActivas &&\r\n            (store.getters.isAdminUser ||\r\n              signature.requesterRef.id === user.id ||\r\n              signature.clientsToSign.some((client) => client.id === user.id))\r\n          );\r\n        });\r\n      }\r\n\r\n      // Guardamos en el store\r\n      store.commit(\"setSignatures\", signatures);\r\n      store.commit(\"setSignaturesUnsubscribe\", unsub);\r\n    }\r\n  );\r\n\r\n  return unsub;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}